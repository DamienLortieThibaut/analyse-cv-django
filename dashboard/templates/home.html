{% extends 'index.html' %}

{% block title %}GRH Smart · Tableau de bord{% endblock %}

{% block header_title %}GRH Smart · Tableau de bord{% endblock %}

{% block content %}
<div class="container mx-auto space-y-6">

    <!-- KPIs -->
    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8">
      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg">
        <p class="text-xs text-slate-400">Total candidatures</p>
        <p class="text-3xl font-extrabold mt-1">124</p>
        <p class="text-xs text-emerald-400 mt-1">+8</p>
      </div>
      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg">
        <p class="text-xs text-slate-400">En revue</p>
        <p class="text-3xl font-extrabold mt-1">37</p>
        <p class="text-xs text-rose-300 mt-1">-2</p>
      </div>
      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg">
        <p class="text-xs text-slate-400">Présélection</p>
        <p class="text-3xl font-extrabold mt-1">18</p>
        <p class="text-xs text-emerald-400 mt-1">+3</p>
      </div>
      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg">
        <p class="text-xs text-slate-400">Taux de conversion</p>
        <p class="text-3xl font-extrabold mt-1">14.5%</p>
        <p class="text-xs text-emerald-400 mt-1">+2.0 pts</p>
      </div>
      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg">
        <p class="text-xs text-slate-400">Score moyen</p>
        <p class="text-3xl font-extrabold mt-1">62.5</p>
        <p class="text-xs text-emerald-400 mt-1">+1.4</p>
      </div>
    </section>

    <!-- CHARTS (placeholders) -->
    <section class="grid grid-cols-12 gap-4 mb-8">
      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg col-span-12 lg:col-span-5">
        <p class="text-xs text-slate-400 mb-2">Répartition par statut</p>
        <div class="relative h-80 rounded-xl border border-slate-800 bg-slate-900 grid place-items-center">
          <!-- Canvas prêt pour Chart.js (aucun JS custom ici) -->
          <canvas
            class="absolute inset-0"
            aria-label="Diagramme circulaire des statuts"
            data-chart-type="doughnut"
            data-chart-labels='["Soumise","En revue","Présélection","Rejetée","Embauché(e)"]'
            data-chart-values='[53,29,18,18,6]'
          ></canvas>
          <div class="text-xs text-slate-500">Initialisation JS requise pour afficher le graphique</div>
          <noscript class="absolute bottom-2 text-[11px] text-slate-500">Activez JavaScript pour voir le graphique.</noscript>
        </div>
      </div>

      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg col-span-12 lg:col-span-7">
        <p class="text-xs text-slate-400 mb-2">Top postes (candidatures)</p>
        <div class="relative h-80 rounded-xl border border-slate-800 bg-slate-900 grid place-items-center">
          <canvas
            class="absolute inset-0"
            aria-label="Histogramme des postes"
            data-chart-type="bar"
            data-chart-labels='["Data Analyst","Dév. Front","QA Engineer","Product Manager","UX Designer","DevOps"]'
            data-chart-values='[24,21,12,10,9,8]'
          ></canvas>
          <div class="text-xs text-slate-500">Initialisation JS requise pour afficher le graphique</div>
          <noscript class="absolute bottom-2 text-[11px] text-slate-500">Activez JavaScript pour voir le graphique.</noscript>
        </div>
      </div>

      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg col-span-12">
        <p class="text-xs text-slate-400 mb-2">Tendance hebdomadaire</p>
        <div class="relative h-72 rounded-xl border border-slate-800 bg-slate-900 grid place-items-center">
          <canvas
            class="absolute inset-0"
            aria-label="Courbe hebdomadaire"
            data-chart-type="line"
            data-chart-labels='["08-01","08-03","08-06","08-10","08-14","08-19","08-22","08-25"]'
            data-chart-values='[4,6,9,7,13,11,15,18]'
          ></canvas>
          <div class="text-xs text-slate-500">Initialisation JS requise pour afficher le graphique</div>
          <noscript class="absolute bottom-2 text-[11px] text-slate-500">Activez JavaScript pour voir le graphique.</noscript>
        </div>
      </div>
    </section>
  </div>
{% endblock %}

