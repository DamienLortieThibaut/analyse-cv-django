<div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6 shadow-lg hover:bg-slate-900/80 transition group">
  <!-- Header de la carte -->
  <div class="flex items-start justify-between mb-4">
    <div class="flex items-center gap-3">
      <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-violet-400 to-violet-300 grid place-items-center shadow-lg">
        <svg class="w-6 h-6 text-slate-900" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
        </svg>
      </div>
      <div>
        <h3 class="font-semibold text-slate-100">{{ candidature.first_name }} {{ candidature.last_name }}</h3>
        <p class="text-sm text-slate-400">{{ candidature.headline|default:"Candidat" }}</p>
      </div>
    </div>
    
    <!-- Statut Badge -->
    <div class="text-right">
      {% include 'candidatures/widgets/status_badge.html' with statut=candidature.status %}
    </div>
  </div>

  <!-- Informations -->
  <div class="grid grid-cols-2 gap-4 mb-4">
    <div>
      <p class="text-xs text-slate-400 mb-1">Score global</p>
      <p class="text-lg font-bold {% if candidature.fit_score_overall >= 80 %}text-emerald-400{% elif candidature.fit_score_overall >= 60 %}text-amber-400{% else %}text-rose-400{% endif %}">
        {{ candidature.fit_score_overall|default:0|floatformat:0 }}<span class="text-sm font-normal text-slate-400">/100</span>
      </p>
    </div>
    <div>
      <p class="text-xs text-slate-400 mb-1">Expérience</p>
      <p class="text-sm font-medium text-slate-200">{{ candidature.years_experience|default:0|floatformat:1 }} ans</p>
    </div>
  </div>

  <!-- Compétences principales -->
  {% if candidature.skills_primary %}
  <div class="mb-4">
    <p class="text-xs text-slate-400 mb-2">Compétences principales</p>
    <div class="flex flex-wrap gap-1">
      {% for skill in candidature.skills_primary|slice:":3" %}
        <span class="px-2 py-1 text-xs rounded-lg bg-violet-950/50 text-violet-300 border border-violet-800">{{ skill }}</span>
      {% endfor %}
      {% if candidature.skills_primary|length > 3 %}
        <span class="px-2 py-1 text-xs rounded-lg bg-slate-800 text-slate-400">+{{ candidature.skills_primary|length|add:"-3" }}</span>
      {% endif %}
    </div>
  </div>
  {% endif %}

  <!-- Date et contact -->
  <div class="grid grid-cols-2 gap-4 mb-4 text-xs text-slate-400">
    <div>
      <p>Candidature: {{ candidature.created_at|date:"d/m/Y" }}</p>
    </div>
    <div>
      {% if candidature.email %}
        <p>{{ candidature.email|truncatechars:20 }}</p>
      {% endif %}
    </div>
  </div>

  <!-- Actions -->
  <div class="flex items-center justify-between pt-4 border-t border-slate-800">
    <div class="flex items-center gap-1">
      <a href="{% url 'candidatures:detail' candidature.pk %}" class="p-2 rounded-lg hover:bg-slate-800 transition" title="Voir détail">
        <svg class="w-4 h-4 text-slate-400" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
        </svg>
      </a>
      {% if candidature.resume %}
        <a href="{{ candidature.resume }}" target="_blank" class="p-2 rounded-lg hover:bg-slate-800 transition" title="Voir CV">
          <svg class="w-4 h-4 text-slate-400" viewBox="0 0 24 24" fill="currentColor">
            <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z"/>
          </svg>
        </a>
      {% endif %}
    </div>
    
    <a href="{% url 'candidatures:detail' candidature.pk %}" class="px-4 py-2 rounded-lg bg-violet-600 hover:bg-violet-700 transition text-sm text-white">
      Voir détail
    </a>
  </div>
</div>
