{% extends 'dashboard/index.html' %}
{% block title %}Inscription - {{ block.super }}{% endblock %}
{% block content %}
<div class="container mx-auto max-w-2xl space-y-6">
  <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6 shadow-lg">
    <div class="text-center mb-6">
      <div class="w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-violet-400 to-violet-300 grid place-items-center shadow-lg mb-4">
        <svg class="w-8 h-8 text-slate-900" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
        </svg>
      </div>
      <h1 class="text-2xl font-bold text-slate-100">Créer un compte</h1>
    </div>

    {% if form.non_field_errors %}
    <div class="rounded-xl border border-rose-800 bg-rose-950/20 p-4 mb-4">
      <div class="text-rose-300">{{ form.non_field_errors }}</div>
    </div>
    {% endif %}

    <form method="post" class="space-y-4">
      {% csrf_token %}

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="{{ form.first_name.id_for_label }}" class="block text-sm font-medium text-slate-300 mb-2">
            {{ form.first_name.label }}
          </label>
          <input type="text" name="{{ form.first_name.name }}" value="{{ form.first_name.value|default:'' }}" 
                 class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
                 placeholder="Prénom" required>
          {% if form.first_name.errors %}
          <div class="text-rose-400 text-sm mt-1">{{ form.first_name.errors.0 }}</div>
          {% endif %}
        </div>
        <div>
          <label for="{{ form.last_name.id_for_label }}" class="block text-sm font-medium text-slate-300 mb-2">
            {{ form.last_name.label }}
          </label>
          <input type="text" name="{{ form.last_name.name }}" value="{{ form.last_name.value|default:'' }}" 
                 class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
                 placeholder="Nom" required>
          {% if form.last_name.errors %}
          <div class="text-rose-400 text-sm mt-1">{{ form.last_name.errors.0 }}</div>
          {% endif %}
        </div>
      </div>

      <div>
        <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-slate-300 mb-2">
          {{ form.email.label }}
        </label>
        <input type="email" name="{{ form.email.name }}" value="{{ form.email.value|default:'' }}" 
               class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
               placeholder="votre@email.com" required>
        {% if form.email.errors %}
        <div class="text-rose-400 text-sm mt-1">{{ form.email.errors.0 }}</div>
        {% endif %}
        <div class="text-slate-400 text-xs mt-1 flex items-center gap-1">
          <svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor">
            <path d="M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z"/>
          </svg>
          Votre adresse email sera utilisée pour vous connecter
        </div>
      </div>

      <div>
        <label for="{{ form.telephone.id_for_label }}" class="block text-sm font-medium text-slate-300 mb-2">
          {{ form.telephone.label }}
        </label>
        <input type="tel" name="{{ form.telephone.name }}" value="{{ form.telephone.value|default:'' }}" 
               class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
               placeholder="06 12 34 56 78">
        {% if form.telephone.errors %}
        <div class="text-rose-400 text-sm mt-1">{{ form.telephone.errors.0 }}</div>
        {% endif %}
      </div>

      <div>
        <label for="{{ form.role.id_for_label }}" class="block text-sm font-medium text-slate-300 mb-2">
          {{ form.role.label }}
        </label>
        <select name="{{ form.role.name }}" 
                class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent" required>
          <option value="">Sélectionnez votre rôle</option>
          {% for value, label in form.role.field.choices %}
            {% if value %}
              <option value="{{ value }}" {% if form.role.value == value %}selected{% endif %}>{{ label }}</option>
            {% endif %}
          {% endfor %}
        </select>
        {% if form.role.errors %}
        <div class="text-rose-400 text-sm mt-1">{{ form.role.errors.0 }}</div>
        {% endif %}
        <div class="text-slate-400 text-xs mt-2 space-y-1">
          <div><strong class="text-slate-300">Candidat :</strong> Publier son CV</div>
          <div><strong class="text-slate-300">Recruteur :</strong> Gérer les candidatures</div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="{{ form.password1.id_for_label }}" class="block text-sm font-medium text-slate-300 mb-2">
            {{ form.password1.label }}
          </label>
          <input type="password" name="{{ form.password1.name }}" 
                 class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
                 placeholder="••••••••" required>
          {% if form.password1.errors %}
          <div class="text-rose-400 text-sm mt-1">{{ form.password1.errors.0 }}</div>
          {% endif %}
        </div>
        <div>
          <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-slate-300 mb-2">
            {{ form.password2.label }}
          </label>
          <input type="password" name="{{ form.password2.name }}" 
                 class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
                 placeholder="••••••••" required>
          {% if form.password2.errors %}
          <div class="text-rose-400 text-sm mt-1">{{ form.password2.errors.0 }}</div>
          {% endif %}
        </div>
      </div>

      <button type="submit" class="w-full px-4 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 transition text-white font-medium">
        <svg class="w-5 h-5 inline mr-2" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
        </svg>
        Créer mon compte
      </button>
    </form>

    <div class="text-center pt-6 border-t border-slate-800 mt-6">
      <p class="text-slate-400">
        Vous avez déjà un compte ?
        <a href="{% url 'accounts:login' %}" class="text-violet-400 hover:text-violet-300 transition">Se connecter</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}