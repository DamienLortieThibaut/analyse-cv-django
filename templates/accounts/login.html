{% extends 'dashboard/index.html' %}

{% block title %}Connexion - {{ block.super }}{% endblock %}
{% block content %}
<div class="container mx-auto max-w-md space-y-6">
  <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6 shadow-lg">
    <div class="text-center mb-6">
      <div class="w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-violet-400 to-violet-300 grid place-items-center shadow-lg mb-4">
        <svg
          class="w-8 h-8 text-slate-900"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M11 7L9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"
          />
        </svg>
      </div>
      <h1 class="text-2xl font-bold text-slate-100">Connexion</h1>
    </div>

    {% if form.non_field_errors %}
    <div class="rounded-xl border border-rose-800 bg-rose-950/20 p-4 mb-4">
      <div class="flex items-center gap-2 text-rose-300">
        <svg
          class="w-5 h-5"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"
          />
        </svg>
        {{ form.non_field_errors }}
      </div>
    </div>
    {% endif %}

    <form method="post" class="space-y-4">
      {% csrf_token %}

      <div>
        <label
          for="{{ form.username.id_for_label }}"
          class="block text-sm font-medium text-slate-300 mb-2"
        >
          <svg
            class="w-4 h-4 inline mr-1"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
            />
          </svg>
          {{ form.username.label }}
        </label>
        <input type="email" name="{{ form.username.name }}" value="{{ form.username.value|default:'' }}" 
               class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
               placeholder="votre@email.com" required>
        {% if form.username.errors %}
        <div class="text-rose-400 text-sm mt-1">
          {{ form.username.errors.0 }}
        </div>
        {% endif %}
      </div>

      <div>
        <label
          for="{{ form.password.id_for_label }}"
          class="block text-sm font-medium text-slate-300 mb-2"
        >
          <svg
            class="w-4 h-4 inline mr-1"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2z"
            />
          </svg>
          {{ form.password.label }}
        </label>
        <input type="password" name="{{ form.password.name }}" 
               class="w-full px-3 py-2 rounded-xl border border-slate-600 bg-slate-800 text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
               placeholder="••••••••" required>
        {% if form.password.errors %}
        <div class="text-rose-400 text-sm mt-1">
          {{ form.password.errors.0 }}
        </div>
        {% endif %}
      </div>

      <div class="flex items-center">
        <input
          type="checkbox"
          id="rememberMe"
          name="remember_me"
          class="h-4 w-4 rounded border-slate-600 bg-slate-800 text-violet-600 focus:ring-violet-500 focus:ring-offset-slate-900"
        />
        <label
          for="rememberMe"
          class="ml-2 text-sm text-slate-300"
        >
          Se souvenir de moi
        </label>
      </div>

      <button
        type="submit"
        class="w-full px-4 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 transition text-white font-medium"
      >
        <svg
          class="w-5 h-5 inline mr-2"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M11 7L9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5z"
          />
        </svg>
        Se connecter
      </button>
    </form>

    <div class="text-center pt-6 border-t border-slate-800 mt-6">
      <p class="text-slate-400 mb-2">
        Pas encore de compte ?
        <a
          href="{% url 'accounts:register' %}"
          class="text-violet-400 hover:text-violet-300 transition"
        >
          S'inscrire
        </a>
      </p>
      <p class="text-slate-400">
        <a
          href="#"
          class="text-slate-400 hover:text-slate-300 transition"
        >
          Mot de passe oublié ?
        </a>
      </p>
    </div>
  </div>

  <!-- Informations de demo -->
  <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg">
    <h3
      class="text-sm font-medium text-slate-300 mb-3 flex items-center gap-2"
    >
      <svg
        class="w-4 h-4"
        viewBox="0 0 24 24"
        fill="currentColor"
      >
        <path
          d="M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 002 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z"
        />
      </svg>
      Comptes de démonstration
    </h3>
    <div class="grid grid-cols-1 gap-2 text-xs">
      <div class="flex justify-between items-center p-2 rounded-lg border border-slate-800 bg-slate-900">
        <span class="inline-flex items-center rounded-full px-2 py-1 text-xs bg-rose-950 text-rose-300">
          Admin
        </span>
        <span class="text-slate-400">admin@exemple.com</span>
      </div>
      <div class="flex justify-between items-center p-2 rounded-lg border border-slate-800 bg-slate-900">
        <span class="inline-flex items-center rounded-full px-2 py-1 text-xs bg-amber-950 text-amber-300">
          Recruteur
        </span>
        <span class="text-slate-400">recruteur@exemple.com</span>
      </div>
      <div class="flex justify-between items-center p-2 rounded-lg border border-slate-800 bg-slate-900">
        <span class="inline-flex items-center rounded-full px-2 py-1 text-xs bg-emerald-950 text-emerald-300">
          Candidat
        </span>
        <span class="text-slate-400">candidat@exemple.com</span>
      </div>
    </div>
    <p class="text-center text-xs text-slate-400 mt-3">
      Mot de passe pour tous :
      <code class="bg-slate-800 px-1 rounded">password123</code>
    </p>
  </div>
</div>
{% endblock %}
